<ion-header >
  <ion-navbar color="primary">
    <ion-title>Send ASAM to NGA</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
	<p>
		Enter ASAM message below, NOTE: for your request to be processed completely, you must include "Observer Information". Required fields are denoted with <span class='red'>*</span>.
	</p>
	<ion-grid>
		<ion-row>
			<ion-col class='heading'>
				<h4>Anti-Shiping Activity Message</h4>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col  class='sub-heading'>
				<h6>Observer Information</h6>
			</ion-col>
		</ion-row>
		<form class="asam-form" [formGroup]="asam_form"  (ngSubmit)="onSubmit(asam_form.value)">
			<ion-row>
				<ion-col class='label'>
					<ion-label>Point of Contact <span class='red'>*</span></ion-label>
					<ion-input type="text" formControlName="poc"></ion-input>
					<div class="validation-errors">
						<ng-container *ngFor="let validation of validation_messages.poc">
							<div class="error-message" *ngIf="asam_form.get('poc').hasError(validation.type) && (asam_form.get('poc').dirty || asam_form.get('poc').touched)">
								{{ validation.message }}
							</div>
						</ng-container>
					</div>
				</ion-col>
				
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Ship/Organization <span class='red'>*</span></ion-label>
					<ion-input type="text" formControlName="organization"></ion-input>
					<div class="validation-errors">
						<ng-container *ngFor="let validation of validation_messages.organization">
							<div class="error-message" *ngIf="asam_form.get('organization').hasError(validation.type) && (asam_form.get('organization').dirty || asam_form.get('organization').touched)">
								{{ validation.message }}
							</div>
						</ng-container>
					</div>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Email Address</ion-label>
					<ion-input type="email" formControlName="email"></ion-input>
					<div class="validation-errors">
						<ng-container *ngFor="let validation of validation_messages.email">
							<div class="error-message" *ngIf="asam_form.get('email').hasError(validation.type) && (asam_form.get('email').dirty || asam_form.get('email').touched)">
								{{ validation.message }}
							</div>
						</ng-container>
					</div>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Address</ion-label>
					<ion-textarea formControlName="address"></ion-textarea>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col  class='label'>
					<ion-label>Phone Number</ion-label>
					<ion-input type="number" formControlName="phone"></ion-input>
				</ion-col>
			</ion-row>
			
			<ion-row>
				<ion-col class='label'>
					<ion-label>Fax Number</ion-label>
					<ion-input type="number" formControlName="fax"></ion-input>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Date of Occurence <span class='red'>*</span> <i>(dd-mmm-yyyy)</i></ion-label>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col col-12>
					<ion-datetime formControlName="doo_date" displayFormat="DD-MMM-YYYY"></ion-datetime>
					<div class="validation-errors">
						<ng-container *ngFor="let validation of validation_messages.doo_date">
							<div class="error-message" *ngIf="asam_form.get('doo_date').hasError(validation.type) && (asam_form.get('doo_date').dirty || asam_form.get('doo_date').touched)">
								{{ validation.message }}
							</div>
						</ng-container>
					</div>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col  class='sub-heading'>
					<ion-row>
						<ion-col col-6 style='border:0;padding:0'>
							<h6>Geographic Location: </h6>
						</ion-col>
						<ion-col col-6 style='border:0;padding:0'>
							<button ion-button block type='button' (click)="showMap()" color='primary'>Select Location</button>
						</ion-col>
					</ion-row>
					
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>
						Latitude
						<button type='button'  (click)="showLatModal()" style="float:right;margin:0" ion-button icon-start>
							<ion-icon name="location"></ion-icon> Manual
						</button>
					</ion-label>
					<ion-input type="text" formControlName="lat"></ion-input>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>
						Longitude
						<button type='button' (click)="showLngModal()" style="float:right;margin:0" ion-button icon-start>
							<ion-icon name="location"></ion-icon> Manual
						</button>
					</ion-label>
					<ion-input type="text" formControlName="lng"></ion-input>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Known/Suspeced Aggressor</ion-label>
					<ion-input type="text" formControlName="suspect"></ion-input>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Victim <span class='red'>*</span></ion-label>
					<ion-input type="text" formControlName="victim"></ion-input>
					<div class="validation-errors">
						<ng-container *ngFor="let validation of validation_messages.victim">
							<div class="error-message" *ngIf="asam_form.get('victim').hasError(validation.type) && (asam_form.get('victim').dirty || asam_form.get('victim').touched)">
								{{ validation.message }}
							</div>
						</ng-container>
					</div>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col  class='sub-heading'>
					<h6>Detailed Description of the Occurance</h6>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col class='label'>
					<ion-label>Comments <span class='red'>*</span></ion-label>
					<ion-textarea formControlName="comments"></ion-textarea>
					<div class="validation-errors">
						<ng-container *ngFor="let validation of validation_messages.comments">
							<div class="error-message" *ngIf="asam_form.get('comments').hasError(validation.type) && (asam_form.get('comments').dirty || asam_form.get('comments').touched)">
								{{ validation.message }}
							</div>
						</ng-container>
					</div>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col>
					<button ion-button full color='light' type="reset" >Clear Form</button>
				</ion-col>
				<ion-col>
					<button ion-button full type="submit" [disabled]="!asam_form.valid">Submit</button>
				</ion-col>
				
			</ion-row>
		</form>
	</ion-grid>
</ion-content>
